<UserControl x:Class="ccc.Views.VideosView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:visuals="clr-namespace:ccc.Controls.Visuals"
             xmlns:cards="clr-namespace:ccc.Controls.Cards"
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1000">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Banner -->
            <RowDefinition Height="Auto"/> <!-- Toolbar -->
            <RowDefinition Height="*"/>    <!-- Content -->
            <RowDefinition Height="Auto"/> <!-- Footer -->
        </Grid.RowDefinitions>

        <!-- Banner -->
        <visuals:PageBanner Grid.Row="0" 
                            Title="All Videos" 
                            Description="Your complete local library."
                            AvatarAscii="ðŸ“¹"
                            VideoCountText="1,243 Videos"/>

        <!-- Toolbar Mockup -->
        <Border Grid.Row="1" Background="{StaticResource BgSecondaryBrush}" Padding="16,12" BorderBrush="#333" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Left: Folder Selector (Mock) -->
                <StackPanel Orientation="Horizontal" Grid.Column="0">
                    <TextBlock Text="Folders:" VerticalAlignment="Center" Foreground="#888" Margin="0,0,12,0"/>
                    <Border Width="16" Height="16" CornerRadius="8" Background="#EF4444" Margin="4"/>
                    <Border Width="16" Height="16" CornerRadius="8" Background="#F59E0B" Margin="4"/>
                    <Border Width="16" Height="16" CornerRadius="8" Background="#10B981" Margin="4"/>
                    <Border Width="16" Height="16" CornerRadius="8" Background="#3B82F6" Margin="4"/>
                    <Border Width="16" Height="16" CornerRadius="8" Background="#8B5CF6" Margin="4"/>
                </StackPanel>

                <!-- Right: Sort/Tag -->
                <StackPanel Orientation="Horizontal" Grid.Column="1">
                    <Button Content="Sort: Default" Style="{StaticResource NavButton}" Foreground="White"/>
                    <Button Content="Bulk Tag" Style="{StaticResource NavButton}" Margin="8,0,0,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Video Grid -->
        <ScrollViewer Grid.Row="2" Padding="20">
            <ItemsControl ItemsSource="{Binding Videos}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal" ItemWidth="300" ItemHeight="260"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <cards:VideoCard Margin="8">
                            <cards:VideoCard.InputBindings>
                                <MouseBinding MouseAction="LeftClick" 
                                              Command="{Binding DataContext.PlayVideoCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                              CommandParameter="{Binding VideoId}"/>
                            </cards:VideoCard.InputBindings>
                        </cards:VideoCard>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <!-- Pagination Footer -->
        <Border Grid.Row="3" Padding="20" Background="#0F172A">
             <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="Previous" 
                        Command="{Binding PrevVideoPageCommand}"
                        Background="Transparent" Foreground="White" BorderThickness="1" BorderBrush="#334155" Padding="12,6" Margin="0,0,12,0" 
                        Style="{StaticResource InvisibleBtn}"/>
                
                <TextBlock Text="{Binding VideoPageText}" 
                           Foreground="#94A3B8"
                           VerticalAlignment="Center" Margin="12,0"/>

                <Button Content="Next" 
                        Command="{Binding NextVideoPageCommand}"
                         Background="Transparent" Foreground="White" BorderThickness="1" BorderBrush="#334155" Padding="12,6" Margin="12,0,0,0" 
                        Style="{StaticResource InvisibleBtn}"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
