<UserControl x:Class="ccc.Views.TripleEngineTestView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ccc"
             xmlns:ctrl="clr-namespace:ccc.Controls"
             xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
             xmlns:cef="clr-namespace:CefSharp.Wpf;assembly=CefSharp.Wpf"
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1280">
    <Grid x:Name="RootGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Content Area (Split View) -->
        <Grid x:Name="ContentGrid" Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" x:Name="Col0"/>
                <ColumnDefinition Width="*" x:Name="Col1"/>
            </Grid.ColumnDefinitions>

            <!-- Left Pane: WebView2 + MPV (Stacked) -->
            <Grid x:Name="LeftPane" Grid.Column="0">
                <!-- 1. YouTube (WebView2) -->
                <wv2:WebView2 x:Name="YoutubeView" Source="https://www.youtube.com"/>
                
                <!-- 2. Local MPV (Native) -->
                <ctrl:LocalVideoPlayer x:Name="MpvView" Visibility="Collapsed"/>
            </Grid>

            <!-- Right Pane: CefSharp (Heavy / Browser) with Tabs -->
            <Grid x:Name="RightPane" Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Toolbar -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#f0f0f0">
                    <Button Content=" + New Tab " Click="NewTab_Click" Padding="10,2" Margin="5"/>
                </StackPanel>

                <!-- Tabs -->
                <TabControl x:Name="BrowserTabs" Grid.Row="1" BorderThickness="0">
                    <TabItem Header="Google">
                        <cef:ChromiumWebBrowser Address="https://www.google.com"/>
                    </TabItem>
                </TabControl>
            </Grid>
        </Grid>

        <!-- Bottom Layout Control Bar (Spans entire app) -->
        <Border Grid.Row="1" Background="#eee" Padding="10" BorderBrush="#ccc" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="Layout:" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Bold"/>
                <Button Content="WV Full" Click="Layout_WvFull_Click" Padding="12,6" Margin="4"/>
                <Button Content="Split" Click="Layout_Split_Click" Padding="12,6" Margin="4" FontWeight="Bold"/>
                <Button Content="WV Half" Click="Layout_WvHalf_Click" Padding="12,6" Margin="4"/>
                <Button Content="Cef Full" Click="Layout_CefFull_Click" Padding="12,6" Margin="4"/>
                <Border Width="1" Background="#bbb" Margin="10,4"/>
                <Button Content="Test MPV" Click="TestMpv_Click" Padding="12,6" Margin="4" Background="#ffdddd"/>
                <Button Content="Open File" Click="OpenFile_Click" Padding="12,6" Margin="4" Background="#ddffdd"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
